# Exchange Data Adapter Configuration
# Copy this to .env and update with your orchestrator credentials

# Service Identity
SERVICE_NAME=exchange-data-adapter
SERVICE_VERSION=1.0.0
ENVIRONMENT=development

# PostgreSQL Configuration (orchestrator credentials)
POSTGRES_URL=postgres://exchange_adapter:exchange-adapter-db-pass@localhost:5432/trading_ecosystem?sslmode=disable

# PostgreSQL Connection Pool
MAX_CONNECTIONS=25
MAX_IDLE_CONNECTIONS=10
CONNECTION_MAX_LIFETIME=300s
CONNECTION_MAX_IDLE_TIME=60s

# Redis Configuration (orchestrator credentials)
# Production: Use exchange-adapter user
# Testing: Use admin user for full access
REDIS_URL=redis://exchange-adapter:exchange-pass@localhost:6379/0

# Redis Connection Pool
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=2
REDIS_MAX_RETRIES=3
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s

# Cache Configuration
CACHE_TTL=300s                          # 5 minutes default TTL
CACHE_NAMESPACE=exchange                # Redis key prefix

# Service Discovery
SERVICE_DISCOVERY_NAMESPACE=exchange    # Service registry namespace
HEARTBEAT_INTERVAL=30s                  # Service heartbeat frequency
SERVICE_TTL=90s                         # Service registration TTL

# Test Environment (for integration tests)
TEST_POSTGRES_URL=postgres://exchange_adapter:exchange-adapter-db-pass@localhost:5432/trading_ecosystem?sslmode=disable
TEST_REDIS_URL=redis://admin:admin-secure-pass@localhost:6379/0

# Logging
LOG_LEVEL=info                          # debug, info, warn, error
LOG_FORMAT=json                         # json, text

# Performance Testing
PERF_TEST_SIZE=1000                     # Number of items for performance tests
PERF_THROUGHPUT_MIN=100                 # Minimum ops/second
PERF_LATENCY_MAX=100ms                  # Maximum average latency

# CI/CD
SKIP_INTEGRATION_TESTS=false            # Set to true in CI without infrastructure
